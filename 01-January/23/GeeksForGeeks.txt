Maximum People Visible in a Line
You are given an array arr[ ], where arr[i] represents the height of the ith person standing in a line.
A person i can see another person j if:
height[j] < height[i],
There is no person k standing between them such that height[k] ≥ height[i].

Each person can see in both directions (front and back).
Your task is to find the maximum number of people that any person can see (including themselves).
_________________________________________________________

Code :
class Solution {
    public int maxPeople(int[] arr) {
        int n = arr.length;
        int[] leftGE = new int[n];
        int[] rightGE = new int[n];

        Arrays.fill(leftGE, -1);
        Arrays.fill(rightGE, n);

        Stack<Integer> st = new Stack<>();

        for (int i = 0; i < n; i++) {
            while (!st.isEmpty() && arr[st.peek()] < arr[i]) {
                st.pop();
            }
            if (!st.isEmpty()) {
                leftGE[i] = st.peek();
            }
            st.push(i);
        }

        st.clear();

        for (int i = n - 1; i >= 0; i--) {
            while (!st.isEmpty() && arr[st.peek()] < arr[i]) {
                st.pop();
            }
            if (!st.isEmpty()) {
                rightGE[i] = st.peek();
            }
            st.push(i);
        }

        int ans = 0;
        for (int i = 0; i < n; i++) {
            int left = i - leftGE[i] - 1;
            int right = rightGE[i] - i - 1;
            ans = Math.max(ans, left + right + 1);
        }

        return ans;
    }
}
_______________________________________________________

Intuition :
Each person can see only shorter people on both sides until their view is blocked by someone of greater or equal height.
So for every person, visibility extends in each direction up to (but not including) the first person whose height is ≥ their own.

Instead of checking visibility person by person (which would be inefficient), we determine where visibility stops on the left and right using monotonic stacks. Once those boundaries are known, the number of visible people can be calculated directly using index distances.
________________________________________________________

Approach :
Create two arrays:
leftGE[i] → index of the nearest person to the left of i with height ≥ arr[i]
rightGE[i] → index of the nearest person to the right of i with height ≥ arr[i]

Use a monotonic decreasing stack:
Traverse from left to right to fill leftGE.
Traverse from right to left to fill rightGE.

For each person i:
People visible on the left = i - leftGE[i] - 1
People visible on the right = rightGE[i] - i - 1
Total visible (including themselves) = left + right + 1

Compute the maximum of this value over all people and return it.
_______________________________________________________

Complexity :
Time Complexity: O(n)
Space Complexity: O(n)