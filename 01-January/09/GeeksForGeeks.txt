Subarrays With At Most K Distinct Integers
You are given an array arr[] of positive integers and an integer k, find the number of subarrays in arr[] where the count of distinct integers is at most k.
________________________________________________________

Code :
class Solution {
    public int countAtMostK(int arr[], int k) {
        int n = arr.length;
        Map<Integer, Integer> freq = new HashMap<>();
        int left = 0, ans = 0;

        for (int right = 0; right < n; right++) {
            freq.put(arr[right], freq.getOrDefault(arr[right], 0) + 1);

            while (freq.size() > k) {
                freq.put(arr[left], freq.get(arr[left]) - 1);
                if (freq.get(arr[left]) == 0) {
                    freq.remove(arr[left]);
                }
                left++;
            }

            ans += (right - left + 1);
        }

        return ans;
    }
}
_______________________________________________________

Intuition :
The problem asks for the number of contiguous subarrays that contain at most k distinct integers.
Checking every possible subarray would be inefficient, so we need a way to dynamically maintain the count of distinct elements as the subarray changes.

The key idea is to use a sliding window:
Expand the window to the right to include new elements.
If the number of distinct elements exceeds k, shrink the window from the left until the condition is satisfied again.
At each step, all subarrays ending at the current position and starting within the valid window are valid.
________________________________________________________

Approach :
Use a HashMap (freq) to store the frequency of elements in the current window.
Initialize two pointers:
left → start of the window
right → end of the window

Traverse the array using the right pointer:
Add arr[right] to the frequency map.

If the number of distinct elements (freq.size()) becomes greater than k:
Move the left pointer forward.
Decrease the frequency of arr[left].
Remove it from the map if its frequency becomes 0.

Once the window has at most k distinct elements, count all valid subarrays ending at right:
Number of such subarrays = right - left + 1

Add this value to the answer.
Continue until the entire array is processed.
Return the total count.
_______________________________________________________

Complexity :
Time Complexity: O(n)
Space Complexity: O(k)